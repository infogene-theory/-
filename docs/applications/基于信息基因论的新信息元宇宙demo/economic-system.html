<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¿¡æ¯åŸºå› ç»æµç³»ç»Ÿ Â· è‡ªæ—‹-é¢‘ç‡-æ¼©æ¶¡ä»·å€¼æ¨¡å‹</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            background: linear-gradient(135deg, #001a33, #003366, #004080, #000033);
            color: #ffffff;
            overflow-x: hidden;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            padding: 40px 0;
            position: relative;
        }

        .title {
            font-size: 2.8rem;
            font-weight: bold;
            background: linear-gradient(45deg, #00ff80, #0080ff, #8000ff, #ff0080);
            background-size: 400% 400%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradient 6s ease infinite;
            margin-bottom: 20px;
        }

        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .subtitle {
            font-size: 1.2rem;
            color: #cccccc;
            margin-bottom: 30px;
        }

        .theory-banner {
            background: rgba(0, 255, 128, 0.1);
            border: 2px solid #00ff80;
            border-radius: 15px;
            padding: 25px;
            margin: 30px 0;
            text-align: center;
            font-family: 'Courier New', monospace;
            font-size: 1rem;
            color: #00ff80;
            backdrop-filter: blur(10px);
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            margin: 50px 0;
        }

        .economic-panel {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(0, 255, 128, 0.2);
            border-radius: 20px;
            padding: 30px;
            backdrop-filter: blur(15px);
        }

        .market-panel {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(128, 0, 255, 0.2);
            border-radius: 20px;
            padding: 30px;
            backdrop-filter: blur(15px);
        }

        .panel-title {
            font-size: 1.5rem;
            color: #00ff80;
            margin-bottom: 25px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .panel-icon {
            width: 30px;
            height: 30px;
            margin-right: 10px;
            background: linear-gradient(45deg, #00ff80, #0080ff);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.8rem;
        }

        /* ä»·å€¼è¯„ä¼°ç³»ç»Ÿ */
        .value-assessment {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr 1fr;
            gap: 15px;
            margin: 25px 0;
        }

        .value-metric {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .value-metric:hover {
            transform: translateY(-5px);
            border-color: rgba(0, 255, 128, 0.5);
            box-shadow: 0 10px 20px rgba(0, 255, 128, 0.2);
        }

        .metric-title {
            color: #00ff80;
            font-size: 0.9rem;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .metric-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: #ff0080;
            margin-bottom: 5px;
            font-family: 'Courier New', monospace;
        }

        .metric-label {
            color: #cccccc;
            font-size: 0.7rem;
        }

        /* å¸‚åœºåŠ¨æ€å¯è§†åŒ– */
        .market-visualization {
            height: 250px;
            position: relative;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 15px;
            margin: 20px 0;
            overflow: hidden;
            border: 2px solid rgba(128, 0, 255, 0.3);
        }

        .price-chart {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        .price-line {
            stroke: #00ff80;
            stroke-width: 2;
            fill: none;
            filter: drop-shadow(0 0 5px rgba(0, 255, 128, 0.5));
        }

        .volume-bars {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 30%;
        }

        .volume-bar {
            display: inline-block;
            width: 3px;
            background: linear-gradient(to top, #8000ff, #ff0080);
            margin: 0 1px;
            animation: volume-pulse 2s ease-in-out infinite;
        }

        @keyframes volume-pulse {
            0%, 100% { opacity: 0.6; }
            50% { opacity: 1; }
        }

        /* å››å…ƒä»·å€¼æŒ‡æ ‡ */
        .quadrant-metrics {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 25px 0;
        }

        .quadrant-metric {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .quadrant-name {
            color: #0080ff;
            font-size: 1rem;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .quadrant-value {
            font-size: 2.2rem;
            font-weight: bold;
            color: #ff0080;
            margin-bottom: 10px;
            font-family: 'Courier New', monospace;
        }

        .quadrant-desc {
            color: #cccccc;
            font-size: 0.8rem;
        }

        /* äº¤æ˜“é¢æ¿ */
        .trading-panel {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .trading-title {
            color: #ff0080;
            font-size: 1.3rem;
            margin-bottom: 20px;
            text-align: center;
        }

        .asset-selector {
            display: flex;
            gap: 10px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .asset-button {
            flex: 1;
            min-width: 80px;
            background: linear-gradient(45deg, #1a0033, #330066);
            border: 2px solid #8000ff;
            color: #8000ff;
            padding: 8px 12px;
            border-radius: 15px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.8rem;
        }

        .asset-button:hover, .asset-button.active {
            background: linear-gradient(45deg, #8000ff, #ff0080);
            color: #000;
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(128, 0, 255, 0.3);
        }

        .order-controls {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 20px 0;
        }

        .order-input {
            background: rgba(0, 0, 0, 0.4);
            border: 2px solid rgba(128, 0, 255, 0.3);
            color: #ffffff;
            padding: 10px;
            border-radius: 8px;
            font-size: 0.9rem;
        }

        .order-input:focus {
            outline: none;
            border-color: #ff0080;
            box-shadow: 0 0 10px rgba(255, 0, 128, 0.3);
        }

        .trade-buttons {
            display: flex;
            gap: 10px;
            margin: 20px 0;
        }

        .trade-button {
            flex: 1;
            background: linear-gradient(45deg, #ff0080, #8000ff);
            border: none;
            color: #ffffff;
            padding: 12px 20px;
            border-radius: 20px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .trade-button:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 20px rgba(255, 0, 128, 0.3);
        }

        /* ç»æµçŠ¶æ€ç›‘æ§ */
        .economic-status {
            background: rgba(255, 0, 128, 0.1);
            border: 2px solid rgba(255, 0, 128, 0.5);
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
        }

        .status-title {
            color: #ff0080;
            font-size: 1.3rem;
            margin-bottom: 20px;
            text-align: center;
        }

        .status-indicators {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .status-item {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .status-label {
            color: #cccccc;
            font-size: 0.8rem;
            margin-bottom: 8px;
        }

        .status-value {
            font-size: 1.2rem;
            font-weight: bold;
            color: #00ff80;
            font-family: 'Courier New', monospace;
        }

        /* äº¤æ˜“å†å² */
        .transaction-history {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border: 1px solid rgba(0, 255, 128, 0.3);
        }

        .history-title {
            color: #00ff80;
            font-size: 1.1rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }

        .history-icon {
            width: 20px;
            height: 20px;
            margin-right: 8px;
            background: #00ff80;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
        }

        .history-content {
            font-family: 'Courier New', monospace;
            font-size: 0.8rem;
            color: #00ff80;
            max-height: 200px;
            overflow-y: auto;
        }

        .history-entry {
            margin: 5px 0;
            padding: 3px 0;
            border-bottom: 1px solid rgba(0, 255, 128, 0.1);
        }

        /* å¯¼èˆª */
        .navigation {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
            margin: 60px 0 40px;
        }

        .nav-button {
            background: linear-gradient(45deg, #1a0033, #330066);
            border: 2px solid #00ff80;
            color: #00ff80;
            padding: 15px 30px;
            border-radius: 25px;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .nav-button:hover {
            background: linear-gradient(45deg, #00ff80, #0080ff);
            color: #000;
            transform: scale(1.05);
            box-shadow: 0 10px 20px rgba(0, 255, 128, 0.3);
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
                gap: 30px;
            }
            
            .title {
                font-size: 2.2rem;
            }
            
            .value-assessment {
                grid-template-columns: 1fr 1fr;
            }
            
            .quadrant-metrics {
                grid-template-columns: 1fr;
            }
            
            .status-indicators {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .order-controls {
                grid-template-columns: 1fr;
            }
            
            .navigation {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1 class="title">ä¿¡æ¯åŸºå› ç»æµç³»ç»Ÿ</h1>
            <p class="subtitle">åŸºäºè‡ªæ—‹-é¢‘ç‡-æ¼©æ¶¡-ç›¸å¹²å››å…ƒç»Ÿä¸€æ¡†æ¶çš„ä»·å€¼è¯„ä¼°ä¸äº¤æ˜“å¹³å°</p>
        </header>

        <div class="theory-banner">
            <strong>æ ¸å¿ƒç†è®ºï¼š</strong>çŸ¥è¯†ä»·å€¼ = è‡ªæ—‹ä¸€è‡´æ€§ Ã— é¢‘ç‡ç¨³å®šæ€§ Ã— æ¼©æ¶¡å¼ºåº¦ Ã— ç›¸å¹²åº¦<br>
            <strong>æ•°å­¦æ¨¡å‹ï¼š</strong>V = Î· Ã— S_freq Ã— Î“ Ã— Cï¼Œå…¶ä¸­ Î· ä¸ºè‡ªæ—‹å–å‘ä¸€è‡´æ€§ï¼ŒS_freq ä¸ºé¢‘è°±ç†µå€’æ•°ï¼ŒÎ“ ä¸ºæ¼©æ¶¡ç¯é‡ï¼ŒC ä¸ºç›¸å¹²åº¦<br>
            <strong>ç»æµæœºåˆ¶ï¼š</strong>é«˜ç›¸å¹²çŸ¥è¯†åŸºå› è·å¾—æ›´é«˜å¸‚åœºä¼°å€¼ï¼Œä½ç†µé¢‘ç‡ç»“æ„æº¢ä»·äº¤æ˜“
        </div>

        <div class="main-content">
            <!-- ç»æµè¯„ä¼°é¢æ¿ -->
            <div class="economic-panel">
                <h2 class="panel-title">
                    <div class="panel-icon">ğŸ’</div>
                    å››å…ƒä»·å€¼è¯„ä¼°ç³»ç»Ÿ
                </h2>

                <div class="value-assessment">
                    <div class="value-metric">
                        <div class="metric-title">è‡ªæ—‹ä¸€è‡´æ€§</div>
                        <div class="metric-value" id="spin-consistency">0.00</div>
                        <div class="metric-label">Î· â‰¥ 0.6</div>
                    </div>
                    <div class="value-metric">
                        <div class="metric-title">é¢‘ç‡ç¨³å®šæ€§</div>
                        <div class="metric-value" id="frequency-stability">0.00</div>
                        <div class="metric-label">1/S_freq</div>
                    </div>
                    <div class="value-metric">
                        <div class="metric-title">æ¼©æ¶¡å¼ºåº¦</div>
                        <div class="metric-value" id="vortex-strength">0.00</div>
                        <div class="metric-label">Î“/Î“_max</div>
                    </div>
                    <div class="value-metric">
                        <div class="metric-title">ç›¸å¹²åº¦</div>
                        <div class="metric-value" id="coherence-level">0.00</div>
                        <div class="metric-label">C âˆˆ [0,1]</div>
                    </div>
                </div>

                <div class="quadrant-metrics">
                    <div class="quadrant-metric">
                        <div class="quadrant-name">çŸ¥è¯†åŸºå› ä»·å€¼</div>
                        <div class="quadrant-value" id="knowledge-value">0.00</div>
                        <div class="quadrant-desc">V = Î· Ã— (1/S_freq) Ã— Î“ Ã— C</div>
                    </div>
                    <div class="quadrant-metric">
                        <div class="quadrant-name">å¸‚åœºæº¢ä»·æŒ‡æ•°</div>
                        <div class="quadrant-value" id="market-premium">0.00</div>
                        <div class="quadrant-desc">æº¢ä»· = (V - V_base) / V_base</div>
                    </div>
                    <div class="quadrant-metric">
                        <div class="quadrant-name">æ¼”åŒ–æ½œåŠ›</div>
                        <div class="quadrant-value" id="evolution-potential">0.00</div>
                        <div class="quadrant-desc">EP = RVSE Ã— å››å…ƒååŒåº¦</div>
                    </div>
                    <div class="quadrant-metric">
                        <div class="quadrant-name">é£é™©è°ƒæ•´å€¼</div>
                        <div class="quadrant-value" id="risk-adjusted-value">0.00</div>
                        <div class="quadrant-desc">RAV = V Ã— (1 - Risk)</div>
                    </div>
                </div>

                <div class="economic-status">
                    <h3 class="status-title">ç»æµç³»ç»ŸçŠ¶æ€ç›‘æ§</h3>
                    <div class="status-indicators">
                        <div class="status-item">
                            <div class="status-label">æ€»äº¤æ˜“é‡</div>
                            <div class="status-value" id="total-volume">0</div>
                        </div>
                        <div class="status-item">
                            <div class="status-label">æ´»è·ƒåŸºå› æ•°</div>
                            <div class="status-value" id="active-genes">0</div>
                        </div>
                        <div class="status-item">
                            <div class="status-label">å¹³å‡æº¢ä»·</div>
                            <div class="status-value" id="avg-premium">0%</div>
                        </div>
                        <div class="status-item">
                            <div class="status-label">ç³»ç»Ÿç¨³å®šæ€§</div>
                            <div class="status-value" id="system-stability">0%</div>
                        </div>
                        <div class="status-item">
                            <div class="status-label">ä»·å€¼å…±è¯†åº¦</div>
                            <div class="status-value" id="value-consensus">0%</div>
                        </div>
                        <div class="status-item">
                            <div class="status-label">å¸‚åœºç†µå€¼</div>
                            <div class="status-value" id="market-entropy">0</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- å¸‚åœºäº¤æ˜“é¢æ¿ -->
            <div class="market-panel">
                <h2 class="panel-title">
                    <div class="panel-icon">ğŸ“ˆ</div>
                    å®æ—¶äº¤æ˜“å¸‚åœº
                </h2>

                <div class="market-visualization">
                    <svg class="price-chart" id="price-chart" viewBox="0 0 400 200">
                        <path class="price-line" id="price-path" d=""/>
                    </svg>
                    <div class="volume-bars" id="volume-bars">
                        <!-- äº¤æ˜“é‡æŸ±çŠ¶å›¾å°†é€šè¿‡JavaScriptç”Ÿæˆ -->
                    </div>
                </div>

                <div class="trading-panel">
                    <h3 class="trading-title">æ™ºèƒ½äº¤æ˜“ç»ˆç«¯</h3>
                    
                    <div class="asset-selector">
                        <button class="asset-button active" data-asset="knowledge-gene">çŸ¥è¯†åŸºå› </button>
                        <button class="asset-button" data-asset="frequency-token">é¢‘ç‡ä»£å¸</button>
                        <button class="asset-button" data-asset="coherence-bond">ç›¸å¹²å€ºåˆ¸</button>
                        <button class="asset-button" data-asset="vortex-share">æ¼©æ¶¡è‚¡ä»½</button>
                    </div>

                    <div class="order-controls">
                        <input type="number" class="order-input" id="order-price" placeholder="ä»·æ ¼" step="0.01">
                        <input type="number" class="order-input" id="order-quantity" placeholder="æ•°é‡" step="1">
                        <input type="number" class="order-input" id="order-spin" placeholder="è‡ªæ—‹é˜ˆå€¼" step="0.1" min="0" max="1">
                        <input type="number" class="order-input" id="order-coherence" placeholder="ç›¸å¹²è¦æ±‚" step="0.1" min="0" max="1">
                    </div>

                    <div class="trade-buttons">
                        <button class="trade-button" onclick="placeBuyOrder()">ä¹°å…¥</button>
                        <button class="trade-button" onclick="placeSellOrder()">å–å‡º</button>
                        <button class="trade-button" onclick="autoTrade()">æ™ºèƒ½äº¤æ˜“</button>
                    </div>
                </div>

                <div class="transaction-history">
                    <h3 class="history-title">
                        <div class="history-icon">ğŸ“Š</div>
                        å®æ—¶äº¤æ˜“è®°å½•
                    </h3>
                    <div class="history-content" id="transaction-history">
                        <div class="history-entry">[ç³»ç»Ÿå¯åŠ¨] ä¿¡æ¯åŸºå› ç»æµç³»ç»Ÿåˆå§‹åŒ–å®Œæˆ</div>
                        <div class="history-entry">[ä»·å€¼æ ¡å‡†] å››å…ƒä»·å€¼æ¨¡å‹åŸºå‡†è®¾å®šå®Œæˆ</div>
                        <div class="history-entry">[å¸‚åœºå¼€æ”¾] å®æ—¶äº¤æ˜“æ¨¡å—å¯åŠ¨æˆåŠŸ</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- å¯¼èˆª -->
        <nav class="navigation">
            <a href="index.html" class="nav-button">è¿”å›ä¸»é¡µ</a>
            <a href="ckb-pyramid.html" class="nav-button">å…±è¯†çŸ¥è¯†åº“</a>
            <a href="frequency-coherence.html" class="nav-button">é¢‘ç‡ç›¸å¹²æ€§</a>
            <a href="ai-evolution.html" class="nav-button">AIè‡ªæ¼”åŒ–</a>
            <a href="dao-governance.html" class="nav-button">DAOæ²»ç†</a>
        </nav>
    </div>

    <script>
        // å…¨å±€å˜é‡
        let currentAsset = 'knowledge-gene';
        let transactionHistory = [];
        let marketData = {
            prices: [],
            volumes: [],
            timestamp: Date.now()
        };
        
        // å››å…ƒä»·å€¼ç³»ç»Ÿ
        let economicSystem = {
            spinConsistency: 0.75,      // è‡ªæ—‹ä¸€è‡´æ€§ Î·
            frequencyStability: 0.68,     // é¢‘ç‡ç¨³å®šæ€§ 1/S_freq
            vortexStrength: 0.82,         // æ¼©æ¶¡å¼ºåº¦ Î“
            coherenceLevel: 0.79,         // ç›¸å¹²åº¦ C
            knowledgeValue: 0.00,           // çŸ¥è¯†ä»·å€¼ V
            marketPremium: 0.00,          // å¸‚åœºæº¢ä»·
            evolutionPotential: 0.00,     // æ¼”åŒ–æ½œåŠ›
            riskAdjustedValue: 0.00,      // é£é™©è°ƒæ•´å€¼
            totalVolume: 1258473,
            activeGenes: 2847,
            avgPremium: 23.5,
            systemStability: 87.3,
            valueConsensus: 91.2,
            marketEntropy: 0.34
        };

        // èµ„äº§ç±»å‹å®šä¹‰
        const assetTypes = {
            'knowledge-gene': {
                name: 'çŸ¥è¯†åŸºå› ',
                basePrice: 100.0,
                volatility: 0.15,
                spinWeight: 0.3,
                frequencyWeight: 0.25,
                vortexWeight: 0.25,
                coherenceWeight: 0.2
            },
            'frequency-token': {
                name: 'é¢‘ç‡ä»£å¸',
                basePrice: 75.0,
                volatility: 0.20,
                spinWeight: 0.2,
                frequencyWeight: 0.4,
                vortexWeight: 0.2,
                coherenceWeight: 0.2
            },
            'coherence-bond': {
                name: 'ç›¸å¹²å€ºåˆ¸',
                basePrice: 95.0,
                volatility: 0.08,
                spinWeight: 0.25,
                frequencyWeight: 0.15,
                vortexWeight: 0.15,
                coherenceWeight: 0.45
            },
            'vortex-share': {
                name: 'æ¼©æ¶¡è‚¡ä»½',
                basePrice: 120.0,
                volatility: 0.25,
                spinWeight: 0.2,
                frequencyWeight: 0.2,
                vortexWeight: 0.4,
                coherenceWeight: 0.2
            }
        };

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            initializeAssetSelector();
            generateMarketData();
            updateEconomicDisplay();
            startMarketSimulation();
            addHistoryEntry('ç»æµç³»ç»Ÿåˆå§‹åŒ–å®Œæˆ - åŸºäºIGT v10.0å››å…ƒç»Ÿä¸€æ¡†æ¶');
        });

        // åˆå§‹åŒ–èµ„äº§é€‰æ‹©å™¨
        function initializeAssetSelector() {
            const assetButtons = document.querySelectorAll('.asset-button');
            assetButtons.forEach(button => {
                button.addEventListener('click', function() {
                    assetButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    currentAsset = this.dataset.asset;
                    updateOrderInputs();
                    addHistoryEntry(`åˆ‡æ¢è‡³${assetTypes[currentAsset].name}äº¤æ˜“`);
                });
            });
        }

        // ç”Ÿæˆå¸‚åœºæ•°æ®
        function generateMarketData() {
            const now = Date.now();
            const basePrice = assetTypes[currentAsset].basePrice;
            const volatility = assetTypes[currentAsset].volatility;
            
            // ç”Ÿæˆä»·æ ¼æ•°æ®ï¼ˆåŸºäºå››å…ƒä»·å€¼æ¨¡å‹ï¼‰
            marketData.prices = [];
            marketData.volumes = [];
            
            for (let i = 0; i < 50; i++) {
                const time = i * 4;
                const quadValue = calculateQuadrantValue();
                const noise = (Math.random() - 0.5) * volatility * 20;
                const price = basePrice * (0.8 + quadValue * 0.4) + noise;
                const volume = Math.random() * 1000 + 100;
                
                marketData.prices.push({x: time, y: price});
                marketData.volumes.push(volume);
            }
            
            updatePriceChart();
            updateVolumeBars();
        }

        // è®¡ç®—å››å…ƒä»·å€¼
        function calculateQuadrantValue() {
            const asset = assetTypes[currentAsset];
            const spinScore = economicSystem.spinConsistency * asset.spinWeight;
            const freqScore = economicSystem.frequencyStability * asset.frequencyWeight;
            const vortexScore = economicSystem.vortexStrength * asset.vortexWeight;
            const cohScore = economicSystem.coherenceLevel * asset.coherenceWeight;
            
            return spinScore + freqScore + vortexScore + cohScore;
        }

        // æ›´æ–°ä»·æ ¼å›¾è¡¨
        function updatePriceChart() {
            const svg = document.getElementById('price-path');
            const pathData = marketData.prices.map((point, index) => {
                const x = point.x;
                const y = 180 - (point.y - 50) * 1.5; // ç¼©æ”¾å’Œç¿»è½¬
                return index === 0 ? `M ${x} ${y}` : `L ${x} ${y}`;
            }).join(' ');
            
            svg.setAttribute('d', pathData);
        }

        // æ›´æ–°äº¤æ˜“é‡æŸ±çŠ¶å›¾
        function updateVolumeBars() {
            const container = document.getElementById('volume-bars');
            container.innerHTML = '';
            
            marketData.volumes.forEach((volume, index) => {
                const bar = document.createElement('div');
                bar.className = 'volume-bar';
                bar.style.height = (volume / 1000 * 30) + '%';
                bar.style.animationDelay = (index * 0.1) + 's';
                container.appendChild(bar);
            });
        }

        // æ›´æ–°ç»æµæ•°æ®æ˜¾ç¤º
        function updateEconomicDisplay() {
            // è®¡ç®—å››å…ƒä»·å€¼
            economicSystem.knowledgeValue = economicSystem.spinConsistency * 
                                          economicSystem.frequencyStability * 
                                          economicSystem.vortexStrength * 
                                          economicSystem.coherenceLevel;
            
            economicSystem.marketPremium = (economicSystem.knowledgeValue - 0.5) / 0.5 * 100;
            economicSystem.evolutionPotential = calculateEvolutionPotential();
            economicSystem.riskAdjustedValue = economicSystem.knowledgeValue * (1 - economicSystem.marketEntropy);
            
            // æ›´æ–°æ˜¾ç¤º
            document.getElementById('spin-consistency').textContent = economicSystem.spinConsistency.toFixed(3);
            document.getElementById('frequency-stability').textContent = economicSystem.frequencyStability.toFixed(3);
            document.getElementById('vortex-strength').textContent = economicSystem.vortexStrength.toFixed(3);
            document.getElementById('coherence-level').textContent = economicSystem.coherenceLevel.toFixed(3);
            
            document.getElementById('knowledge-value').textContent = economicSystem.knowledgeValue.toFixed(3);
            document.getElementById('market-premium').textContent = economicSystem.marketPremium.toFixed(1) + '%';
            document.getElementById('evolution-potential').textContent = economicSystem.evolutionPotential.toFixed(3);
            document.getElementById('risk-adjusted-value').textContent = economicSystem.riskAdjustedValue.toFixed(3);
            
            document.getElementById('total-volume').textContent = economicSystem.totalVolume.toLocaleString();
            document.getElementById('active-genes').textContent = economicSystem.activeGenes.toLocaleString();
            document.getElementById('avg-premium').textContent = economicSystem.avgPremium.toFixed(1) + '%';
            document.getElementById('system-stability').textContent = economicSystem.systemStability.toFixed(1) + '%';
            document.getElementById('value-consensus').textContent = economicSystem.valueConsensus.toFixed(1) + '%';
            document.getElementById('market-entropy').textContent = economicSystem.marketEntropy.toFixed(3);
        }

        // è®¡ç®—æ¼”åŒ–æ½œåŠ›
        function calculateEvolutionPotential() {
            const rvseFactor = 0.7; // RVSEåŸºç¡€å› å­
            const quadSynergy = (economicSystem.spinConsistency + economicSystem.frequencyStability + 
                               economicSystem.vortexStrength + economicSystem.coherenceLevel) / 4;
            return rvseFactor * quadSynergy;
        }

        // å¼€å§‹å¸‚åœºæ¨¡æ‹Ÿ
        function startMarketSimulation() {
            setInterval(() => {
                // éšæœºæ³¢åŠ¨å››å…ƒå‚æ•°
                economicSystem.spinConsistency += (Math.random() - 0.5) * 0.02;
                economicSystem.frequencyStability += (Math.random() - 0.5) * 0.03;
                economicSystem.vortexStrength += (Math.random() - 0.5) * 0.025;
                economicSystem.coherenceLevel += (Math.random() - 0.5) * 0.02;
                
                // é™åˆ¶èŒƒå›´
                economicSystem.spinConsistency = Math.max(0, Math.min(1, economicSystem.spinConsistency));
                economicSystem.frequencyStability = Math.max(0, Math.min(1, economicSystem.frequencyStability));
                economicSystem.vortexStrength = Math.max(0, Math.min(1, economicSystem.vortexStrength));
                economicSystem.coherenceLevel = Math.max(0, Math.min(1, economicSystem.coherenceLevel));
                
                // æ›´æ–°å¸‚åœºæ•°æ®
                economicSystem.totalVolume += Math.floor(Math.random() * 1000);
                economicSystem.marketEntropy += (Math.random() - 0.5) * 0.01;
                economicSystem.marketEntropy = Math.max(0, Math.min(1, economicSystem.marketEntropy));
                
                generateMarketData();
                updateEconomicDisplay();
                
                // å¶å°”æ·»åŠ å†å²è®°å½•
                if (Math.random() < 0.1) {
                    const assetName = assetTypes[currentAsset].name;
                    const price = marketData.prices[marketData.prices.length - 1].y;
                    addHistoryEntry(`${assetName}ä»·æ ¼æ›´æ–°: ${price.toFixed(2)} (å››å…ƒä»·å€¼: ${calculateQuadrantValue().toFixed(3)})`);
                }
            }, 3000);
        }

        // ä¸‹å•ä¹°å…¥
        function placeBuyOrder() {
            const price = parseFloat(document.getElementById('order-price').value) || 0;
            const quantity = parseInt(document.getElementById('order-quantity').value) || 0;
            const spinThreshold = parseFloat(document.getElementById('order-spin').value) || 0;
            const coherenceReq = parseFloat(document.getElementById('order-coherence').value) || 0;
            
            if (price <= 0 || quantity <= 0) {
                addHistoryEntry('âŒ è®¢å•å‚æ•°é”™è¯¯ï¼šä»·æ ¼å’Œæ•°é‡å¿…é¡»å¤§äº0');
                return;
            }
            
            if (economicSystem.spinConsistency < spinThreshold) {
                addHistoryEntry(`âš ï¸ è‡ªæ—‹ä¸€è‡´æ€§ä¸è¶³ï¼šå½“å‰${economicSystem.spinConsistency.toFixed(3)} < è¦æ±‚${spinThreshold}`);
                return;
            }
            
            if (economicSystem.coherenceLevel < coherenceReq) {
                addHistoryEntry(`âš ï¸ ç›¸å¹²åº¦ä¸è¶³ï¼šå½“å‰${economicSystem.coherenceLevel.toFixed(3)} < è¦æ±‚${coherenceReq}`);
                return;
            }
            
            const totalValue = price * quantity;
            const assetName = assetTypes[currentAsset].name;
            
            addHistoryEntry(`ğŸŸ¢ ä¹°å…¥è®¢å•æ‰§è¡Œï¼š${assetName} Ã—${quantity} @ ${price.toFixed(2)} = ${totalValue.toFixed(2)}`);
            addHistoryEntry(`ğŸ“Š å››å…ƒä»·å€¼éªŒè¯ï¼šè‡ªæ—‹${economicSystem.spinConsistency.toFixed(3)} ç›¸å¹²${economicSystem.coherenceLevel.toFixed(3)}`);
            
            // æ¸…ç©ºè¾“å…¥æ¡†
            document.getElementById('order-quantity').value = '';
        }

        // ä¸‹å•å–å‡º
        function placeSellOrder() {
            const price = parseFloat(document.getElementById('order-price').value) || 0;
            const quantity = parseInt(document.getElementById('order-quantity').value) || 0;
            
            if (price <= 0 || quantity <= 0) {
                addHistoryEntry('âŒ è®¢å•å‚æ•°é”™è¯¯ï¼šä»·æ ¼å’Œæ•°é‡å¿…é¡»å¤§äº0');
                return;
            }
            
            const totalValue = price * quantity;
            const assetName = assetTypes[currentAsset].name;
            const currentPrice = marketData.prices[marketData.prices.length - 1].y;
            const profit = (price - currentPrice) / currentPrice * 100;
            
            addHistoryEntry(`ğŸ”´ å–å‡ºè®¢å•æ‰§è¡Œï¼š${assetName} Ã—${quantity} @ ${price.toFixed(2)} = ${totalValue.toFixed(2)}`);
            addHistoryEntry(`ğŸ’° é¢„æœŸæ”¶ç›Šç‡ï¼š${profit.toFixed(2)}% (åŸºäºå½“å‰å¸‚ä»·${currentPrice.toFixed(2)})`);
            
            document.getElementById('order-quantity').value = '';
        }

        // æ™ºèƒ½äº¤æ˜“
        function autoTrade() {
            const currentValue = calculateQuadrantValue();
            const asset = assetTypes[currentAsset];
            const currentPrice = marketData.prices[marketData.prices.length - 1].y;
            
            let action = 'è§‚æœ›';
            let quantity = 0;
            
            if (currentValue > 0.8 && economicSystem.knowledgeValue > 0.7) {
                action = 'ä¹°å…¥';
                quantity = Math.floor(Math.random() * 50) + 10;
                addHistoryEntry(`ğŸ¤– æ™ºèƒ½äº¤æ˜“è§¦å‘ï¼šå››å…ƒä»·å€¼${currentValue.toFixed(3)} > 0.8ï¼Œæ‰§è¡Œä¹°å…¥ç­–ç•¥`);
            } else if (currentValue < 0.4 || economicSystem.marketEntropy > 0.7) {
                action = 'å–å‡º';
                quantity = Math.floor(Math.random() * 30) + 5;
                addHistoryEntry(`ğŸ¤– æ™ºèƒ½äº¤æ˜“è§¦å‘ï¼šå››å…ƒä»·å€¼${currentValue.toFixed(3)} < 0.4 æˆ– å¸‚åœºç†µè¿‡é«˜ï¼Œæ‰§è¡Œå–å‡ºç­–ç•¥`);
            } else {
                addHistoryEntry(`ğŸ¤– æ™ºèƒ½åˆ†æï¼šå½“å‰å››å…ƒä»·å€¼${currentValue.toFixed(3)}ï¼Œå»ºè®®è§‚æœ›`);
            }
            
            if (action !== 'è§‚æœ›') {
                const totalValue = currentPrice * quantity;
                addHistoryEntry(`ğŸ¯ ${action}æ‰§è¡Œï¼š${asset.name} Ã—${quantity} @ ${currentPrice.toFixed(2)} = ${totalValue.toFixed(2)}`);
            }
        }

        // æ›´æ–°è®¢å•è¾“å…¥æ¡†
        function updateOrderInputs() {
            const asset = assetTypes[currentAsset];
            const currentPrice = marketData.prices[marketData.prices.length - 1].y;
            
            document.getElementById('order-price').placeholder = `å»ºè®®ä»·æ ¼: ${currentPrice.toFixed(2)}`;
            document.getElementById('order-spin').placeholder = `è‡ªæ—‹é˜ˆå€¼ (å½“å‰: ${economicSystem.spinConsistency.toFixed(2)})`;
            document.getElementById('order-coherence').placeholder = `ç›¸å¹²è¦æ±‚ (å½“å‰: ${economicSystem.coherenceLevel.toFixed(2)})`;
        }

        // æ·»åŠ å†å²è®°å½•
        function addHistoryEntry(message) {
            const historyContent = document.getElementById('transaction-history');
            const entry = document.createElement('div');
            entry.className = 'history-entry';
            entry.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
            
            historyContent.appendChild(entry);
            historyContent.scrollTop = historyContent.scrollHeight;
            
            // ä¿æŒæœ€å¤š30æ¡è®°å½•
            const entries = historyContent.querySelectorAll('.history-entry');
            if (entries.length > 30) {
                entries[0].remove();
            }
        }
    </script>
</body>
</html>