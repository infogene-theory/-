<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é¢‘ç‡ç›¸å¹²æ€§åˆ†æ Â· RVSçŸ¥è¯†ä»·å€¼è¯„ä¼°</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            background: linear-gradient(135deg, #0a0a0a, #1a1a2e, #16213e, #0f3460);
            color: #ffffff;
            overflow-x: hidden;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            padding: 40px 0;
            position: relative;
        }

        .title {
            font-size: 2.8rem;
            font-weight: bold;
            background: linear-gradient(45deg, #00ffff, #ff00ff, #ffff00, #00ff00);
            background-size: 400% 400%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradient 6s ease infinite;
            margin-bottom: 20px;
        }

        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .subtitle {
            font-size: 1.2rem;
            color: #cccccc;
            margin-bottom: 30px;
        }

        .formula-banner {
            background: rgba(0, 255, 255, 0.1);
            border: 2px solid #00ffff;
            border-radius: 15px;
            padding: 25px;
            margin: 30px 0;
            text-align: center;
            font-family: 'Courier New', monospace;
            font-size: 1.1rem;
            color: #00ffff;
            backdrop-filter: blur(10px);
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            margin: 50px 0;
        }

        .visualization-panel {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(0, 255, 255, 0.2);
            border-radius: 20px;
            padding: 30px;
            backdrop-filter: blur(15px);
        }

        .control-panel {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 0, 255, 0.2);
            border-radius: 20px;
            padding: 30px;
            backdrop-filter: blur(15px);
        }

        .panel-title {
            font-size: 1.5rem;
            color: #00ffff;
            margin-bottom: 25px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .panel-icon {
            width: 30px;
            height: 30px;
            margin-right: 10px;
            background: linear-gradient(45deg, #00ffff, #ff00ff);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.8rem;
        }

        /* é¢‘ç‡æ³¢å½¢å¯è§†åŒ– */
        .frequency-waves {
            height: 200px;
            position: relative;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            margin: 20px 0;
            overflow: hidden;
        }

        .wave-container {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        .wave-line {
            position: absolute;
            width: 100%;
            height: 2px;
            background: #00ffff;
            top: 50%;
            transform-origin: center;
        }

        .wave-line:nth-child(1) { animation: wave1 3s ease-in-out infinite; }
        .wave-line:nth-child(2) { animation: wave2 2.5s ease-in-out infinite; animation-delay: 0.5s; }
        .wave-line:nth-child(3) { animation: wave3 4s ease-in-out infinite; animation-delay: 1s; }
        .wave-line:nth-child(4) { animation: wave4 3.5s ease-in-out infinite; animation-delay: 1.5s; }

        @keyframes wave1 {
            0%, 100% { transform: translateY(0) scaleY(1); opacity: 0.8; }
            50% { transform: translateY(-30px) scaleY(2); opacity: 1; }
        }

        @keyframes wave2 {
            0%, 100% { transform: translateY(0) scaleY(1); opacity: 0.6; }
            50% { transform: translateY(25px) scaleY(1.5); opacity: 0.9; }
        }

        @keyframes wave3 {
            0%, 100% { transform: translateY(0) scaleY(1); opacity: 0.7; }
            50% { transform: translateY(-20px) scaleY(1.8); opacity: 1; }
        }

        @keyframes wave4 {
            0%, 100% { transform: translateY(0) scaleY(1); opacity: 0.5; }
            50% { transform: translateY(15px) scaleY(1.3); opacity: 0.8; }
        }

        /* ç›¸å¹²æ€§ä»ªè¡¨æ¿ */
        .coherence-dashboard {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 25px 0;
        }

        .metric-card {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .metric-card:hover {
            transform: translateY(-5px);
            border-color: rgba(0, 255, 255, 0.5);
            box-shadow: 0 10px 20px rgba(0, 255, 255, 0.2);
        }

        .metric-value {
            font-size: 2rem;
            font-weight: bold;
            color: #00ffff;
            margin-bottom: 10px;
            font-family: 'Courier New', monospace;
        }

        .metric-label {
            color: #cccccc;
            font-size: 0.9rem;
        }

        /* æ§åˆ¶ç»„ä»¶ */
        .control-group {
            margin: 25px 0;
        }

        .control-label {
            display: block;
            color: #00ffff;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .slider {
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: rgba(255, 255, 255, 0.1);
            outline: none;
            -webkit-appearance: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: linear-gradient(45deg, #00ffff, #ff00ff);
            cursor: pointer;
            box-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
        }

        .slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: linear-gradient(45deg, #00ffff, #ff00ff);
            cursor: pointer;
            border: none;
        }

        .button-group {
            display: flex;
            gap: 15px;
            margin: 25px 0;
            flex-wrap: wrap;
        }

        .control-button {
            flex: 1;
            min-width: 120px;
            background: linear-gradient(45deg, #1a1a2e, #16213e);
            border: 2px solid #00ffff;
            color: #00ffff;
            padding: 12px 20px;
            border-radius: 25px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .control-button:hover {
            background: linear-gradient(45deg, #00ffff, #0080ff);
            color: #000;
            transform: scale(1.05);
            box-shadow: 0 10px 20px rgba(0, 255, 255, 0.3);
        }

        /* çŸ¥è¯†ä»·å€¼è¯„ä¼° */
        .value-assessment {
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid rgba(255, 215, 0, 0.5);
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
        }

        .assessment-title {
            color: #ffd700;
            font-size: 1.3rem;
            margin-bottom: 20px;
            text-align: center;
        }

        .rvs-formula {
            background: rgba(0, 0, 0, 0.4);
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            color: #00ff00;
            text-align: center;
            margin: 15px 0;
            border-left: 4px solid #00ff00;
        }

        .value-result {
            background: rgba(0, 255, 0, 0.1);
            border: 2px solid rgba(0, 255, 0, 0.5);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            display: none;
        }

        .value-score {
            font-size: 2.5rem;
            font-weight: bold;
            color: #00ff00;
            margin-bottom: 10px;
        }

        .value-level {
            font-size: 1.1rem;
            color: #cccccc;
            margin-bottom: 15px;
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            overflow: hidden;
            margin: 15px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff0000, #ffff00, #00ff00);
            border-radius: 10px;
            transition: width 1s ease;
            width: 0%;
        }

        /* å®æ—¶æ•°æ®é¢æ¿ */
        .realtime-panel {
            background: rgba(255, 255, 255, 0.02);
            border-radius: 15px;
            padding: 25px;
            margin: 30px 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .realtime-title {
            color: #ff00ff;
            font-size: 1.4rem;
            margin-bottom: 20px;
            text-align: center;
        }

        .data-stream {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            color: #00ff00;
            border-left: 4px solid #00ff00;
            max-height: 200px;
            overflow-y: auto;
        }

        .data-entry {
            margin: 5px 0;
            padding: 5px 0;
            border-bottom: 1px solid rgba(0, 255, 0, 0.1);
        }

        /* å¯¼èˆª */
        .navigation {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
            margin: 60px 0 40px;
        }

        .nav-button {
            background: linear-gradient(45deg, #1a1a2e, #16213e);
            border: 2px solid #00ffff;
            color: #00ffff;
            padding: 15px 30px;
            border-radius: 25px;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .nav-button:hover {
            background: linear-gradient(45deg, #00ffff, #0080ff);
            color: #000;
            transform: scale(1.05);
            box-shadow: 0 10px 20px rgba(0, 255, 255, 0.3);
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
                gap: 30px;
            }
            
            .title {
                font-size: 2.2rem;
            }
            
            .formula-banner {
                font-size: 0.9rem;
                padding: 20px;
            }
            
            .coherence-dashboard {
                grid-template-columns: 1fr;
            }
            
            .button-group {
                flex-direction: column;
            }
            
            .navigation {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1 class="title">é¢‘ç‡ç›¸å¹²æ€§åˆ†æ</h1>
            <p class="subtitle">åŸºäºRVSç›¸å…³ç³»æ•°çš„çŸ¥è¯†ä»·å€¼è¯„ä¼°ç³»ç»Ÿ</p>
        </header>

        <div class="formula-banner">
            <strong>çŸ¥è¯†ä»·å€¼å…¬å¼ï¼š</strong>V_knowledge = RVS_correlation Ã— C_coh Ã— logâ‚‚(N_IG) Ã— Stability_Factor<br>
            <strong>RVSç›¸å…³ç³»æ•°ï¼š</strong>RVS_corr = (Replication Ã— Variation Ã— Selection) / (Î± Ã— Î² Ã— Î³)<br>
            <strong>é¢‘ç‡ç›¸å¹²æ€§ï¼š</strong>C_coh = |Î£(f_i Ã— f_j)| / (N Ã— Î£|f_i|Â²)
        </div>

        <div class="main-content">
            <!-- å¯è§†åŒ–é¢æ¿ -->
            <div class="visualization-panel">
                <h2 class="panel-title">
                    <div class="panel-icon">ğŸ“Š</div>
                    é¢‘ç‡ç›¸å¹²æ€§å¯è§†åŒ–
                </h2>

                <div class="frequency-waves">
                    <div class="wave-container">
                        <div class="wave-line"></div>
                        <div class="wave-line"></div>
                        <div class="wave-line"></div>
                        <div class="wave-line"></div>
                    </div>
                </div>

                <div class="coherence-dashboard">
                    <div class="metric-card">
                        <div class="metric-value" id="coherence-value">0.00</div>
                        <div class="metric-label">é¢‘ç‡ç›¸å¹²æ€§ C_coh</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" id="rvs-value">0.00</div>
                        <div class="metric-label">RVSç›¸å…³ç³»æ•°</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" id="frequency-value">0</div>
                        <div class="metric-label">ä¸»å¯¼é¢‘ç‡ (Hz)</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" id="stability-value">0.00</div>
                        <div class="metric-label">ç¨³å®šæ€§å› å­</div>
                    </div>
                </div>

                <div class="value-assessment">
                    <h3 class="assessment-title">çŸ¥è¯†ä»·å€¼å®æ—¶è¯„ä¼°</h3>
                    <div class="rvs-formula">
                        V = <span id="rvs-coeff">0.000</span> Ã— <span id="coh-coeff">0.000</span> Ã— logâ‚‚(<span id="ig-count">0</span>) Ã— <span id="stab-coeff">0.000</span>
                    </div>
                    <div class="value-result" id="value-result">
                        <div class="value-score" id="value-score">0.00</div>
                        <div class="value-level" id="value-level">çŸ¥è¯†ä»·å€¼ç­‰çº§</div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="value-progress"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- æ§åˆ¶é¢æ¿ -->
            <div class="control-panel">
                <h2 class="panel-title">
                    <div class="panel-icon">ğŸ›ï¸</div>
                    å‚æ•°æ§åˆ¶é¢æ¿
                </h2>

                <div class="control-group">
                    <label class="control-label">å¤åˆ¶å¼ºåº¦ (Replication)</label>
                    <input type="range" class="slider" id="replication-slider" min="0" max="100" value="50">
                    <div style="display: flex; justify-content: space-between; color: #888; font-size: 0.8rem;">
                        <span>å¼±</span>
                        <span id="replication-value">50</span>
                        <span>å¼º</span>
                    </div>
                </div>

                <div class="control-group">
                    <label class="control-label">å˜å¼‚ç¨‹åº¦ (Variation)</label>
                    <input type="range" class="slider" id="variation-slider" min="0" max="100" value="30">
                    <div style="display: flex; justify-content: space-between; color: #888; font-size: 0.8rem;">
                        <span>ç¨³å®š</span>
                        <span id="variation-value">30</span>
                        <span>åˆ›æ–°</span>
                    </div>
                </div>

                <div class="control-group">
                    <label class="control-label">é€‰æ‹©å‹åŠ› (Selection)</label>
                    <input type="range" class="slider" id="selection-slider" min="0" max="100" value="70">
                    <div style="display: flex; justify-content: space-between; color: #888; font-size: 0.8rem;">
                        <span>å®½æ¾</span>
                        <span id="selection-value">70</span>
                        <span>ä¸¥æ ¼</span>
                    </div>
                </div>

                <div class="control-group">
                    <label class="control-label">ä¿¡æ¯åŸºå› æ•°é‡</label>
                    <input type="range" class="slider" id="ig-slider" min="10" max="1000" value="100">
                    <div style="display: flex; justify-content: space-between; color: #888; font-size: 0.8rem;">
                        <span>10</span>
                        <span id="ig-value">100</span>
                        <span>1000</span>
                    </div>
                </div>

                <div class="button-group">
                    <button class="control-button" onclick="startAnalysis()">å¼€å§‹åˆ†æ</button>
                    <button class="control-button" onclick="resetParameters()">é‡ç½®å‚æ•°</button>
                    <button class="control-button" onclick="generateRandom()">éšæœºç”Ÿæˆ</button>
                </div>

                <div class="button-group">
                    <button class="control-button" onclick="optimizeValue()">ä»·å€¼ä¼˜åŒ–</button>
                    <button class="control-button" onclick="exportResults()">å¯¼å‡ºç»“æœ</button>
                </div>
            </div>
        </div>

        <!-- å®æ—¶æ•°æ®é¢æ¿ -->
        <div class="realtime-panel">
            <h3 class="realtime-title">å®æ—¶æ•°æ®æµç›‘æ§</h3>
            <div class="data-stream" id="data-stream">
                <div class="data-entry">ç³»ç»Ÿåˆå§‹åŒ–å®Œæˆ...</div>
            </div>
        </div>

        <!-- å¯¼èˆª -->
        <nav class="navigation">
            <a href="index.html" class="nav-button">è¿”å›ä¸»é¡µ</a>
            <a href="ckb-pyramid.html" class="nav-button">å…±è¯†çŸ¥è¯†åº“</a>
            <a href="ai-evolution.html" class="nav-button">AIè‡ªæ¼”åŒ–</a>
            <a href="economic-system.html" class="nav-button">ç»æµç³»ç»Ÿ</a>
            <a href="order-locking.html" class="nav-button">ç§©åºé”å®š</a>
        </nav>
    </div>

    <script>
        // å…¨å±€å˜é‡
        let analysisInterval;
        let dataStream = [];
        let currentParams = {
            replication: 50,
            variation: 30,
            selection: 70,
            igCount: 100
        };

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            initializeSliders();
            startRealTimeMonitoring();
            addDataEntry('é¢‘ç‡ç›¸å¹²æ€§åˆ†æç³»ç»Ÿå¯åŠ¨å®Œæˆ');
            addDataEntry('RVSçŸ¥è¯†ä»·å€¼è¯„ä¼°æ¨¡å—åˆå§‹åŒ–æˆåŠŸ');
        });

        // åˆå§‹åŒ–æ»‘å—äº‹ä»¶
        function initializeSliders() {
            const sliders = ['replication', 'variation', 'selection', 'ig'];
            sliders.forEach(type => {
                const slider = document.getElementById(`${type}-slider`);
                const valueDisplay = document.getElementById(`${type}-value`);
                
                slider.addEventListener('input', function() {
                    valueDisplay.textContent = this.value;
                    currentParams[type] = parseInt(this.value);
                    updateAnalysis();
                });
            });
        }

        // å¼€å§‹åˆ†æ
        function startAnalysis() {
            addDataEntry('å¼€å§‹é¢‘ç‡ç›¸å¹²æ€§åˆ†æ...');
            
            if (analysisInterval) {
                clearInterval(analysisInterval);
            }

            analysisInterval = setInterval(() => {
                updateAnalysis();
            }, 1000);

            setTimeout(() => {
                clearInterval(analysisInterval);
                addDataEntry('åˆ†æå®Œæˆ - çŸ¥è¯†ä»·å€¼è¯„ä¼°ç»“æŸ');
            }, 10000);
        }

        // æ›´æ–°åˆ†æç»“æœ
        function updateAnalysis() {
            // è®¡ç®—RVSç›¸å…³ç³»æ•°
            const rvsCoeff = calculateRVSCoefficient();
            
            // è®¡ç®—é¢‘ç‡ç›¸å¹²æ€§
            const coherence = calculateFrequencyCoherence();
            
            // è®¡ç®—ç¨³å®šæ€§å› å­
            const stability = calculateStabilityFactor();
            
            // è®¡ç®—ä¸»å¯¼é¢‘ç‡
            const dominantFreq = calculateDominantFrequency();
            
            // æ›´æ–°æ˜¾ç¤º
            document.getElementById('rvs-value').textContent = rvsCoeff.toFixed(3);
            document.getElementById('coherence-value').textContent = coherence.toFixed(3);
            document.getElementById('stability-value').textContent = stability.toFixed(3);
            document.getElementById('frequency-value').textContent = dominantFreq;
            
            // æ›´æ–°å…¬å¼æ˜¾ç¤º
            document.getElementById('rvs-coeff').textContent = rvsCoeff.toFixed(3);
            document.getElementById('coh-coeff').textContent = coherence.toFixed(3);
            document.getElementById('ig-count').textContent = currentParams.igCount;
            document.getElementById('stab-coeff').textContent = stability.toFixed(3);
            
            // è®¡ç®—çŸ¥è¯†ä»·å€¼
            const knowledgeValue = calculateKnowledgeValue(rvsCoeff, coherence, stability);
            updateValueAssessment(knowledgeValue);
            
            // æ›´æ–°æ³¢å½¢åŠ¨ç”»
            updateWaveAnimation(coherence, rvsCoeff);
        }

        // è®¡ç®—RVSç›¸å…³ç³»æ•°
        function calculateRVSCoefficient() {
            const replication = currentParams.replication / 100;
            const variation = currentParams.variation / 100;
            const selection = currentParams.selection / 100;
            
            // RVSç›¸å…³ç³»æ•°å…¬å¼
            const alpha = 0.3; // å¤åˆ¶æƒé‡
            const beta = 0.4;  // å˜å¼‚æƒé‡
            const gamma = 0.3; // é€‰æ‹©æƒé‡
            
            return (replication * variation * selection) / (alpha * beta * gamma);
        }

        // è®¡ç®—é¢‘ç‡ç›¸å¹²æ€§
        function calculateFrequencyCoherence() {
            const baseCoherence = 0.3;
            const replicationBonus = (currentParams.replication / 100) * 0.4;
            const variationPenalty = (currentParams.variation / 100) * 0.2;
            const selectionBonus = (currentParams.selection / 100) * 0.3;
            const igDensityBonus = Math.log(currentParams.igCount) / Math.log(1000) * 0.2;
            
            return Math.min(1.0, baseCoherence + replicationBonus - variationPenalty + selectionBonus + igDensityBonus);
        }

        // è®¡ç®—ç¨³å®šæ€§å› å­
        function calculateStabilityFactor() {
            const replication = currentParams.replication / 100;
            const variation = currentParams.variation / 100;
            const selection = currentParams.selection / 100;
            
            // ç¨³å®šæ€§ä¸å¤åˆ¶å¼ºåº¦æ­£ç›¸å…³ï¼Œä¸å˜å¼‚ç¨‹åº¦è´Ÿç›¸å…³ï¼Œä¸é€‰æ‹©å‹åŠ›æ­£ç›¸å…³
            return (replication * 0.5 + selection * 0.3 + (1 - variation) * 0.2);
        }

        // è®¡ç®—ä¸»å¯¼é¢‘ç‡
        function calculateDominantFrequency() {
            const baseFreq = 100;
            const variation = currentParams.variation / 100;
            const selection = currentParams.selection / 100;
            
            // ä¸»å¯¼é¢‘ç‡å—å˜å¼‚ç¨‹åº¦å’Œé€‰æ‹©å‹åŠ›å½±å“
            return Math.round(baseFreq + (variation * 50) + (selection * 30));
        }

        // è®¡ç®—çŸ¥è¯†ä»·å€¼
        function calculateKnowledgeValue(rvsCoeff, coherence, stability) {
            const igCount = currentParams.igCount;
            const value = rvsCoeff * coherence * Math.log2(igCount) * stability;
            return Math.min(100, value * 25); // æ ‡å‡†åŒ–åˆ°0-100èŒƒå›´
        }

        // æ›´æ–°ä»·å€¼è¯„ä¼°
        function updateValueAssessment(value) {
            const valueScore = document.getElementById('value-score');
            const valueLevel = document.getElementById('value-level');
            const valueResult = document.getElementById('value-result');
            const valueProgress = document.getElementById('value-progress');
            
            valueScore.textContent = value.toFixed(2);
            valueProgress.style.width = Math.min(100, value) + '%';
            
            let level = '';
            let color = '';
            
            if (value >= 80) {
                level = 'å“è¶ŠçŸ¥è¯† - é«˜ä»·å€¼å…±è¯†';
                color = '#00ff00';
            } else if (value >= 60) {
                level = 'ä¼˜è´¨çŸ¥è¯† - ç¨³å®šå…±è¯†';
                color = '#ffff00';
            } else if (value >= 40) {
                level = 'ä¸€èˆ¬çŸ¥è¯† - éœ€è¦ä¼˜åŒ–';
                color = '#ff9900';
            } else {
                level = 'ä½ä»·å€¼çŸ¥è¯† - éœ€é‡æ–°è¯„ä¼°';
                color = '#ff0000';
            }
            
            valueLevel.textContent = level;
            valueLevel.style.color = color;
            valueResult.style.display = 'block';
        }

        // æ›´æ–°æ³¢å½¢åŠ¨ç”»
        function updateWaveAnimation(coherence, rvsCoeff) {
            const waves = document.querySelectorAll('.wave-line');
            const intensity = coherence * rvsCoeff;
            
            waves.forEach((wave, index) => {
                const delay = index * 0.5;
                const duration = 2 + (1 - intensity) * 2; // ç›¸å¹²æ€§è¶Šé«˜ï¼Œæ³¢å½¢è¶Šç¨³å®š
                wave.style.animationDuration = duration + 's';
                wave.style.animationDelay = delay + 's';
                wave.style.opacity = 0.3 + intensity * 0.7;
            });
        }

        // é‡ç½®å‚æ•°
        function resetParameters() {
            currentParams = { replication: 50, variation: 30, selection: 70, igCount: 100 };
            
            const sliders = ['replication', 'variation', 'selection', 'ig'];
            sliders.forEach(type => {
                const slider = document.getElementById(`${type}-slider`);
                const valueDisplay = document.getElementById(`${type}-value`);
                slider.value = currentParams[type];
                valueDisplay.textContent = currentParams[type];
            });
            
            updateAnalysis();
            addDataEntry('å‚æ•°å·²é‡ç½®åˆ°é»˜è®¤å€¼');
        }

        // éšæœºç”Ÿæˆ
        function generateRandom() {
            currentParams.replication = Math.floor(Math.random() * 100);
            currentParams.variation = Math.floor(Math.random() * 100);
            currentParams.selection = Math.floor(Math.random() * 100);
            currentParams.igCount = Math.floor(Math.random() * 990) + 10;
            
            const sliders = ['replication', 'variation', 'selection', 'ig'];
            sliders.forEach(type => {
                const slider = document.getElementById(`${type}-slider`);
                const valueDisplay = document.getElementById(`${type}-value`);
                slider.value = currentParams[type];
                valueDisplay.textContent = currentParams[type];
            });
            
            updateAnalysis();
            addDataEntry('éšæœºå‚æ•°ç”Ÿæˆå®Œæˆ');
        }

        // ä»·å€¼ä¼˜åŒ–
        function optimizeValue() {
            addDataEntry('å¼€å§‹çŸ¥è¯†ä»·å€¼ä¼˜åŒ–ç®—æ³•...');
            
            // ç®€å•çš„æ¢¯åº¦ä¸Šå‡ä¼˜åŒ–
            let bestValue = 0;
            let bestParams = { ...currentParams };
            
            for (let i = 0; i < 50; i++) {
                const testParams = {
                    replication: Math.max(0, Math.min(100, currentParams.replication + (Math.random() - 0.5) * 20)),
                    variation: Math.max(0, Math.min(100, currentParams.variation + (Math.random() - 0.5) * 20)),
                    selection: Math.max(0, Math.min(100, currentParams.selection + (Math.random() - 0.5) * 20)),
                    igCount: Math.max(10, Math.min(1000, currentParams.igCount + Math.floor((Math.random() - 0.5) * 100)))
                };
                
                const tempParams = currentParams;
                currentParams = testParams;
                updateAnalysis();
                
                const currentValue = parseFloat(document.getElementById('value-score').textContent);
                if (currentValue > bestValue) {
                    bestValue = currentValue;
                    bestParams = { ...testParams };
                }
                
                currentParams = tempParams;
            }
            
            // åº”ç”¨æœ€ä¼˜å‚æ•°
            currentParams = bestParams;
            const sliders = ['replication', 'variation', 'selection', 'ig'];
            sliders.forEach(type => {
                const slider = document.getElementById(`${type}-slider`);
                const valueDisplay = document.getElementById(`${type}-value`);
                slider.value = currentParams[type];
                valueDisplay.textContent = currentParams[type];
            });
            
            updateAnalysis();
            addDataEntry(`ä»·å€¼ä¼˜åŒ–å®Œæˆ - æœ€ä¼˜ä»·å€¼: ${bestValue.toFixed(2)}`);
        }

        // å¯¼å‡ºç»“æœ
        function exportResults() {
            const results = {
                timestamp: new Date().toISOString(),
                parameters: currentParams,
                metrics: {
                    rvsCoefficient: parseFloat(document.getElementById('rvs-value').textContent),
                    frequencyCoherence: parseFloat(document.getElementById('coherence-value').textContent),
                    stabilityFactor: parseFloat(document.getElementById('stability-value').textContent),
                    dominantFrequency: parseInt(document.getElementById('frequency-value').textContent),
                    knowledgeValue: parseFloat(document.getElementById('value-score').textContent)
                },
                formulas: {
                    rvsFormula: 'RVS_corr = (Replication Ã— Variation Ã— Selection) / (Î± Ã— Î² Ã— Î³)',
                    coherenceFormula: 'C_coh = |Î£(f_i Ã— f_j)| / (N Ã— Î£|f_i|Â²)',
                    valueFormula: 'V_knowledge = RVS_correlation Ã— C_coh Ã— logâ‚‚(N_IG) Ã— Stability_Factor'
                }
            };
            
            const dataStr = JSON.stringify(results, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);
            
            const link = document.createElement('a');
            link.href = url;
            link.download = `frequency-coherence-analysis-${Date.now()}.json`;
            link.click();
            
            addDataEntry('åˆ†æç»“æœå·²å¯¼å‡º');
        }

        // å®æ—¶æ•°æ®æµç›‘æ§
        function startRealTimeMonitoring() {
            setInterval(() => {
                if (Math.random() > 0.7) { // 30%æ¦‚ç‡ç”Ÿæˆæ–°æ•°æ®
                    const metrics = ['é¢‘ç‡å…±æŒ¯', 'ç›¸ä½åŒæ­¥', 'æŒ¯å¹…ç¨³å®š', 'æ³¢å½¢ä¼˜åŒ–'];
                    const metric = metrics[Math.floor(Math.random() * metrics.length)];
                    const value = (Math.random() * 100).toFixed(2);
                    addDataEntry(`${metric}: ${value}% - ${new Date().toLocaleTimeString()}`);
                }
            }, 2000);
        }

        // æ·»åŠ æ•°æ®æ¡ç›®
        function addDataEntry(text) {
            const dataStream = document.getElementById('data-stream');
            const entry = document.createElement('div');
            entry.className = 'data-entry';
            entry.textContent = `[${new Date().toLocaleTimeString()}] ${text}`;
            
            dataStream.appendChild(entry);
            dataStream.scrollTop = dataStream.scrollHeight;
            
            // ä¿æŒæœ€å¤š20æ¡è®°å½•
            const entries = dataStream.querySelectorAll('.data-entry');
            if (entries.length > 20) {
                entries[0].remove();
            }
        }
    </script>
</body>
</html>