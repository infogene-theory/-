<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>秩序锁定机制 - 信息基因论v10.0</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #0f0f23, #1a1a2e, #16213e);
            color: #ffffff;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            position: relative;
        }

        .header h1 {
            font-size: 2.5em;
            background: linear-gradient(45deg, #00d4ff, #ff6b6b, #4ecdc4, #45b7d1);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradientShift 4s ease-in-out infinite;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2em;
            color: #a0a0a0;
            margin-bottom: 20px;
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .main-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }

        .panel {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .panel:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 212, 255, 0.2);
        }

        .panel h3 {
            color: #00d4ff;
            margin-bottom: 20px;
            font-size: 1.4em;
            text-align: center;
        }

        .locking-visualization {
            grid-column: 1 / -1;
            height: 400px;
            position: relative;
            background: radial-gradient(circle at center, rgba(0, 212, 255, 0.1), transparent);
        }

        .locking-layer {
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .locking-node {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 12px;
            position: relative;
            animation: pulse 2s infinite;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .locking-node:hover {
            transform: scale(1.2);
        }

        .spin-node {
            background: linear-gradient(45deg, #ff6b6b, #ff8e8e);
            box-shadow: 0 0 20px rgba(255, 107, 107, 0.6);
        }

        .frequency-node {
            background: linear-gradient(45deg, #4ecdc4, #44a08d);
            box-shadow: 0 0 20px rgba(78, 205, 196, 0.6);
        }

        .vortex-node {
            background: linear-gradient(45deg, #45b7d1, #96c93d);
            box-shadow: 0 0 20px rgba(69, 183, 209, 0.6);
        }

        .coherence-node {
            background: linear-gradient(45deg, #f093fb, #f5576c);
            box-shadow: 0 0 20px rgba(240, 147, 251, 0.6);
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.8; }
        }

        .locking-connection {
            position: absolute;
            height: 2px;
            background: linear-gradient(90deg, transparent, #00d4ff, transparent);
            animation: flow 3s linear infinite;
        }

        @keyframes flow {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .metric-card {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .metric-card:hover {
            background: rgba(255, 255, 255, 0.12);
            transform: translateY(-3px);
        }

        .metric-value {
            font-size: 2em;
            font-weight: bold;
            color: #00d4ff;
            margin-bottom: 5px;
        }

        .metric-label {
            font-size: 0.9em;
            color: #a0a0a0;
        }

        .controls-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .controls-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .control-group {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 10px;
            padding: 15px;
        }

        .control-group label {
            display: block;
            margin-bottom: 8px;
            color: #00d4ff;
            font-weight: bold;
        }

        .control-group input[type="range"] {
            width: 100%;
            margin-bottom: 5px;
        }

        .control-group .value-display {
            text-align: center;
            color: #4ecdc4;
            font-weight: bold;
        }

        .status-indicators {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            flex-wrap: wrap;
            gap: 15px;
        }

        .status-indicator {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 15px;
            background: rgba(255, 255, 255, 0.08);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .status-light {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            animation: blink 1.5s infinite;
        }

        .status-active {
            background: #4ecdc4;
            box-shadow: 0 0 10px rgba(78, 205, 196, 0.8);
        }

        .status-warning {
            background: #ffa726;
            box-shadow: 0 0 10px rgba(255, 167, 38, 0.8);
        }

        .status-danger {
            background: #ff6b6b;
            box-shadow: 0 0 10px rgba(255, 107, 107, 0.8);
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin: 20px 0;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn-primary {
            background: linear-gradient(45deg, #00d4ff, #0099cc);
            color: white;
        }

        .btn-warning {
            background: linear-gradient(45deg, #ffa726, #ff9800);
            color: white;
        }

        .btn-danger {
            background: linear-gradient(45deg, #ff6b6b, #ff5252);
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }

        .log-panel {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 15px;
            height: 200px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            color: #00ff00;
            border: 1px solid rgba(0, 255, 0, 0.3);
        }

        .log-entry {
            margin-bottom: 5px;
            padding: 2px 0;
        }

        .log-timestamp {
            color: #888;
        }

        .formula-display {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            font-family: 'Courier New', monospace;
            border: 1px solid rgba(0, 212, 255, 0.3);
        }

        .formula {
            font-size: 1.2em;
            color: #00d4ff;
            margin: 10px 0;
        }

        @media (max-width: 768px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
            
            .metrics-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .controls-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>秩序锁定机制</h1>
            <p>基于信息基因论v10.0 - 自旋-频率-漩涡-相干四元统一框架</p>
        </div>

        <div class="formula-display">
            <div class="formula">
                秩序锁定强度 = (自旋稳定性 × 频率相干性 × 漩涡强度 × 相干度) / 熵值
            </div>
            <div class="formula">
                L = (S × C_freq × V × C_coh) / (H + 1)
            </div>
        </div>

        <div class="metrics-grid">
            <div class="metric-card">
                <div class="metric-value" id="spin-stability">85.7</div>
                <div class="metric-label">自旋稳定性</div>
            </div>
            <div class="metric-card">
                <div class="metric-value" id="freq-coherence">92.3</div>
                <div class="metric-label">频率相干性</div>
            </div>
            <div class="metric-card">
                <div class="metric-value" id="vortex-strength">78.9</div>
                <div class="metric-label">漩涡强度</div>
            </div>
            <div class="metric-card">
                <div class="metric-value" id="coherence-level">88.1</div>
                <div class="metric-label">相干度水平</div>
            </div>
        </div>

        <div class="locking-visualization" id="locking-viz">
            <div class="locking-layer">
                <div class="locking-node spin-node" data-type="spin" style="top: 50%; left: 20%;">自旋</div>
                <div class="locking-node frequency-node" data-type="frequency" style="top: 20%; left: 50%;">频率</div>
                <div class="locking-node vortex-node" data-type="vortex" style="top: 50%; left: 80%;">漩涡</div>
                <div class="locking-node coherence-node" data-type="coherence" style="top: 80%; left: 50%;">相干</div>
            </div>
        </div>

        <div class="status-indicators">
            <div class="status-indicator">
                <div class="status-light status-active"></div>
                <span>系统锁定</span>
            </div>
            <div class="status-indicator">
                <div class="status-light status-warning"></div>
                <span>频率校准</span>
            </div>
            <div class="status-indicator">
                <div class="status-light status-active"></div>
                <span>相干同步</span>
            </div>
            <div class="status-indicator">
                <div class="status-light status-danger"></div>
                <span>熵值监控</span>
            </div>
        </div>

        <div class="controls-section">
            <h3 style="text-align: center; margin-bottom: 20px; color: #00d4ff;">秩序锁定控制参数</h3>
            <div class="controls-grid">
                <div class="control-group">
                    <label>自旋耦合强度</label>
                    <input type="range" id="spin-coupling" min="0" max="100" value="75">
                    <div class="value-display" id="spin-coupling-value">75%</div>
                </div>
                <div class="control-group">
                    <label>频率共振度</label>
                    <input type="range" id="freq-resonance" min="0" max="100" value="82">
                    <div class="value-display" id="freq-resonance-value">82%</div>
                </div>
                <div class="control-group">
                    <label>漩涡收敛速度</label>
                    <input type="range" id="vortex-convergence" min="0" max="100" value="68">
                    <div class="value-display" id="vortex-convergence-value">68%</div>
                </div>
                <div class="control-group">
                    <label>相干保持时间</label>
                    <input type="range" id="coherence-duration" min="0" max="100" value="91">
                    <div class="value-display" id="coherence-duration-value">91%</div>
                </div>
            </div>
        </div>

        <div class="main-grid">
            <div class="panel">
                <h3>锁定机制状态</h3>
                <div style="margin: 20px 0;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                        <span>秩序强度:</span>
                        <span id="order-strength" style="color: #00d4ff; font-weight: bold;">86.3%</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                        <span>熵值水平:</span>
                        <span id="entropy-level" style="color: #ff6b6b; font-weight: bold;">23.7</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                        <span>稳定性指数:</span>
                        <span id="stability-index" style="color: #4ecdc4; font-weight: bold;">91.2</span>
                    </div>
                    <div style="display: flex; justify-content: space-between;">
                        <span>临界阈值:</span>
                        <span id="critical-threshold" style="color: #ffa726; font-weight: bold;">95.0</span>
                    </div>
                </div>
            </div>

            <div class="panel">
                <h3>四元锁定矩阵</h3>
                <div style="font-family: monospace; font-size: 12px;">
                    <div style="margin-bottom: 10px;">
                        <strong>自旋-频率锁定:</strong> <span id="spin-freq-lock">94.2%</span>
                    </div>
                    <div style="margin-bottom: 10px;">
                        <strong>频率-漩涡锁定:</strong> <span id="freq-vortex-lock">87.6%</span>
                    </div>
                    <div style="margin-bottom: 10px;">
                        <strong>漩涡-相干锁定:</strong> <span id="vortex-coh-lock">91.8%</span>
                    </div>
                    <div style="margin-bottom: 10px;">
                        <strong>相干-自旋锁定:</strong> <span id="coh-spin-lock">89.4%</span>
                    </div>
                    <div style="border-top: 1px solid #333; padding-top: 10px; margin-top: 10px;">
                        <strong>四元统一度:</strong> <span id="quadruple-unity" style="color: #00d4ff; font-size: 1.2em;">90.8%</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="action-buttons">
            <button class="btn btn-primary" onclick="initiateLocking()">启动锁定</button>
            <button class="btn btn-warning" onclick="calibrateSystem()">系统校准</button>
            <button class="btn btn-danger" onclick="emergencyRelease()">紧急释放</button>
            <button class="btn btn-primary" onclick="optimizeParameters()">参数优化</button>
        </div>

        <div class="panel">
            <h3>秩序锁定日志</h3>
            <div class="log-panel" id="locking-log">
                <div class="log-entry">
                    <span class="log-timestamp">[2024-01-15 14:30:25]</span>
                    秩序锁定系统初始化完成
                </div>
                <div class="log-entry">
                    <span class="log-timestamp">[2024-01-15 14:30:26]</span>
                    四元统一框架激活: 自旋-频率-漩涡-相干
                </div>
                <div class="log-entry">
                    <span class="log-timestamp">[2024-01-15 14:30:27]</span>
                    锁定机制状态: 正常运行
                </div>
                <div class="log-entry">
                    <span class="log-timestamp">[2024-01-15 14:30:28]</span>
                    熵值监控启动: 当前熵值 23.7
                </div>
            </div>
        </div>
    </div>

    <script>
        class OrderLockingSystem {
            constructor() {
                this.parameters = {
                    spinCoupling: 75,
                    freqResonance: 82,
                    vortexConvergence: 68,
                    coherenceDuration: 91
                };
                
                this.metrics = {
                    spinStability: 85.7,
                    freqCoherence: 92.3,
                    vortexStrength: 78.9,
                    coherenceLevel: 88.1,
                    orderStrength: 86.3,
                    entropyLevel: 23.7,
                    stabilityIndex: 91.2
                };
                
                this.lockingMatrix = {
                    spinFreq: 94.2,
                    freqVortex: 87.6,
                    vortexCoh: 91.8,
                    cohSpin: 89.4
                };
                
                this.isActive = true;
                this.logEntries = [];
                
                this.initializeEventListeners();
                this.startRealTimeUpdates();
            }
            
            initializeEventListeners() {
                // 控制参数滑块事件
                const sliders = ['spin-coupling', 'freq-resonance', 'vortex-convergence', 'coherence-duration'];
                sliders.forEach(id => {
                    const slider = document.getElementById(id);
                    const valueDisplay = document.getElementById(id + '-value');
                    
                    slider.addEventListener('input', (e) => {
                        const value = e.target.value;
                        valueDisplay.textContent = value + '%';
                        this.updateParameter(id, parseInt(value));
                    });
                });
                
                // 锁定节点点击事件
                document.querySelectorAll('.locking-node').forEach(node => {
                    node.addEventListener('click', (e) => {
                        const type = e.target.dataset.type;
                        this.handleNodeClick(type);
                    });
                });
            }
            
            updateParameter(paramId, value) {
                const paramMap = {
                    'spin-coupling': 'spinCoupling',
                    'freq-resonance': 'freqResonance',
                    'vortex-convergence': 'vortexConvergence',
                    'coherence-duration': 'coherenceDuration'
                };
                
                this.parameters[paramMap[paramId]] = value;
                this.recalculateMetrics();
                this.addLog(`参数更新: ${paramMap[paramId]} = ${value}%`);
            }
            
            recalculateMetrics() {
                // 基于参数重新计算各项指标
                const { spinCoupling, freqResonance, vortexConvergence, coherenceDuration } = this.parameters;
                
                this.metrics.spinStability = Math.min(100, 50 + spinCoupling * 0.5 + Math.random() * 10);
                this.metrics.freqCoherence = Math.min(100, 60 + freqResonance * 0.4 + Math.random() * 8);
                this.metrics.vortexStrength = Math.min(100, 45 + vortexConvergence * 0.6 + Math.random() * 12);
                this.metrics.coherenceLevel = Math.min(100, 55 + coherenceDuration * 0.4 + Math.random() * 6);
                
                // 计算秩序强度
                this.metrics.orderStrength = (
                    this.metrics.spinStability * 0.25 +
                    this.metrics.freqCoherence * 0.25 +
                    this.metrics.vortexStrength * 0.25 +
                    this.metrics.coherenceLevel * 0.25
                );
                
                // 计算熵值
                this.metrics.entropyLevel = Math.max(0, 100 - this.metrics.orderStrength + Math.random() * 10);
                this.metrics.stabilityIndex = Math.min(100, this.metrics.orderStrength + Math.random() * 5);
                
                // 更新锁定矩阵
                this.lockingMatrix.spinFreq = Math.min(100, (this.metrics.spinStability + this.metrics.freqCoherence) / 2 + Math.random() * 5);
                this.lockingMatrix.freqVortex = Math.min(100, (this.metrics.freqCoherence + this.metrics.vortexStrength) / 2 + Math.random() * 5);
                this.lockingMatrix.vortexCoh = Math.min(100, (this.metrics.vortexStrength + this.metrics.coherenceLevel) / 2 + Math.random() * 5);
                this.lockingMatrix.cohSpin = Math.min(100, (this.metrics.coherenceLevel + this.metrics.spinStability) / 2 + Math.random() * 5);
                
                this.updateDisplay();
            }
            
            updateDisplay() {
                // 更新指标卡片
                document.getElementById('spin-stability').textContent = this.metrics.spinStability.toFixed(1);
                document.getElementById('freq-coherence').textContent = this.metrics.freqCoherence.toFixed(1);
                document.getElementById('vortex-strength').textContent = this.metrics.vortexStrength.toFixed(1);
                document.getElementById('coherence-level').textContent = this.metrics.coherenceLevel.toFixed(1);
                
                // 更新锁定状态
                document.getElementById('order-strength').textContent = this.metrics.orderStrength.toFixed(1) + '%';
                document.getElementById('entropy-level').textContent = this.metrics.entropyLevel.toFixed(1);
                document.getElementById('stability-index').textContent = this.metrics.stabilityIndex.toFixed(1);
                
                // 更新锁定矩阵
                document.getElementById('spin-freq-lock').textContent = this.lockingMatrix.spinFreq.toFixed(1) + '%';
                document.getElementById('freq-vortex-lock').textContent = this.lockingMatrix.freqVortex.toFixed(1) + '%';
                document.getElementById('vortex-coh-lock').textContent = this.lockingMatrix.vortexCoh.toFixed(1) + '%';
                document.getElementById('coh-spin-lock').textContent = this.lockingMatrix.cohSpin.toFixed(1) + '%';
                
                // 计算四元统一度
                const quadrupleUnity = (this.lockingMatrix.spinFreq + this.lockingMatrix.freqVortex + 
                                      this.lockingMatrix.vortexCoh + this.lockingMatrix.cohSpin) / 4;
                document.getElementById('quadruple-unity').textContent = quadrupleUnity.toFixed(1) + '%';
                
                // 更新节点视觉效果
                this.updateNodeVisuals();
            }
            
            updateNodeVisuals() {
                const nodes = document.querySelectorAll('.locking-node');
                nodes.forEach(node => {
                    const type = node.dataset.type;
                    let intensity = 0;
                    
                    switch(type) {
                        case 'spin':
                            intensity = this.metrics.spinStability / 100;
                            break;
                        case 'frequency':
                            intensity = this.metrics.freqCoherence / 100;
                            break;
                        case 'vortex':
                            intensity = this.metrics.vortexStrength / 100;
                            break;
                        case 'coherence':
                            intensity = this.metrics.coherenceLevel / 100;
                            break;
                    }
                    
                    node.style.opacity = 0.7 + intensity * 0.3;
                    node.style.transform = `scale(${0.8 + intensity * 0.4})`;
                });
            }
            
            handleNodeClick(type) {
                this.addLog(`手动触发 ${type} 节点校准`);
                
                // 临时提升相关参数
                switch(type) {
                    case 'spin':
                        this.metrics.spinStability = Math.min(100, this.metrics.spinStability + 5);
                        break;
                    case 'frequency':
                        this.metrics.freqCoherence = Math.min(100, this.metrics.freqCoherence + 5);
                        break;
                    case 'vortex':
                        this.metrics.vortexStrength = Math.min(100, this.metrics.vortexStrength + 5);
                        break;
                    case 'coherence':
                        this.metrics.coherenceLevel = Math.min(100, this.metrics.coherenceLevel + 5);
                        break;
                }
                
                this.recalculateMetrics();
            }
            
            startRealTimeUpdates() {
                setInterval(() => {
                    if (this.isActive) {
                        // 模拟自然波动
                        this.metrics.spinStability += (Math.random() - 0.5) * 2;
                        this.metrics.freqCoherence += (Math.random() - 0.5) * 1.5;
                        this.metrics.vortexStrength += (Math.random() - 0.5) * 2.5;
                        this.metrics.coherenceLevel += (Math.random() - 0.5) * 1;
                        
                        // 保持在合理范围内
                        this.metrics.spinStability = Math.max(0, Math.min(100, this.metrics.spinStability));
                        this.metrics.freqCoherence = Math.max(0, Math.min(100, this.metrics.freqCoherence));
                        this.metrics.vortexStrength = Math.max(0, Math.min(100, this.metrics.vortexStrength));
                        this.metrics.coherenceLevel = Math.max(0, Math.min(100, this.metrics.coherenceLevel));
                        
                        this.recalculateMetrics();
                        
                        // 检查临界状态
                        this.checkCriticalStates();
                    }
                }, 2000);
            }
            
            checkCriticalStates() {
                if (this.metrics.entropyLevel > 80) {
                    this.addLog("警告: 熵值过高，系统稳定性受到威胁！", 'warning');
                }
                
                if (this.metrics.orderStrength < 20) {
                    this.addLog("危险: 秩序强度过低，锁定机制濒临失效！", 'danger');
                }
                
                if (this.metrics.stabilityIndex < 30) {
                    this.addLog("紧急: 稳定性指数危险低位，建议立即干预！", 'danger');
                }
            }
            
            addLog(message, level = 'info') {
                const timestamp = new Date().toLocaleString('zh-CN');
                const logEntry = {
                    timestamp,
                    message,
                    level
                };
                
                this.logEntries.unshift(logEntry);
                if (this.logEntries.length > 100) {
                    this.logEntries.pop();
                }
                
                this.updateLogDisplay();
            }
            
            updateLogDisplay() {
                const logPanel = document.getElementById('locking-log');
                logPanel.innerHTML = this.logEntries.map(entry => {
                    const color = entry.level === 'warning' ? '#ffa726' : 
                                 entry.level === 'danger' ? '#ff6b6b' : '#00ff00';
                    return `<div class="log-entry" style="color: ${color};">
                        <span class="log-timestamp">[${entry.timestamp}]</span>
                        ${entry.message}
                    </div>`;
                }).join('');
                
                logPanel.scrollTop = 0;
            }
            
            initiateLocking() {
                this.isActive = true;
                this.addLog("秩序锁定机制启动");
                this.addLog("四元统一框架激活");
                this.addLog("开始实时监控和调节");
            }
            
            calibrateSystem() {
                this.addLog("系统校准开始");
                
                // 全面提升参数
                Object.keys(this.parameters).forEach(key => {
                    this.parameters[key] = Math.min(100, this.parameters[key] + 10);
                });
                
                this.recalculateMetrics();
                this.addLog("系统校准完成");
            }
            
            emergencyRelease() {
                this.addLog("紧急释放程序启动！", 'danger');
                this.isActive = false;
                
                // 快速降低锁定强度
                Object.keys(this.parameters).forEach(key => {
                    this.parameters[key] = Math.max(0, this.parameters[key] - 30);
                });
                
                this.recalculateMetrics();
                this.addLog("秩序锁定已紧急释放");
                
                // 5秒后自动恢复
                setTimeout(() => {
                    this.isActive = true;
                    this.addLog("系统重新激活");
                }, 5000);
            }
            
            optimizeParameters() {
                this.addLog("参数优化算法启动");
                
                // 智能优化参数
                const targetValues = { spin: 90, freq: 95, vortex: 85, coherence: 92 };
                
                this.parameters.spinCoupling = Math.min(100, this.parameters.spinCoupling + 
                    (targetValues.spin - this.metrics.spinStability) * 0.3);
                this.parameters.freqResonance = Math.min(100, this.parameters.freqResonance + 
                    (targetValues.freq - this.metrics.freqCoherence) * 0.3);
                this.parameters.vortexConvergence = Math.min(100, this.parameters.vortexConvergence + 
                    (targetValues.vortex - this.metrics.vortexStrength) * 0.3);
                this.parameters.coherenceDuration = Math.min(100, this.parameters.coherenceDuration + 
                    (targetValues.coherence - this.metrics.coherenceLevel) * 0.3);
                
                this.recalculateMetrics();
                this.addLog("参数优化完成");
            }
        }
        
        // 全局函数
        function initiateLocking() {
            window.orderLockingSystem.initiateLocking();
        }
        
        function calibrateSystem() {
            window.orderLockingSystem.calibrateSystem();
        }
        
        function emergencyRelease() {
            window.orderLockingSystem.emergencyRelease();
        }
        
        function optimizeParameters() {
            window.orderLockingSystem.optimizeParameters();
        }
        
        // 初始化系统
        document.addEventListener('DOMContentLoaded', () => {
            window.orderLockingSystem = new OrderLockingSystem();
        });
    </script>
</body>
</html>